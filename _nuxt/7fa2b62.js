(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{482:function(e,r,t){"use strict";t.r(r);var o=t(3),n=(t(41),{middleware:"loggedIn",auth:!1,layout:"auth",data:function(){return{loginForm:{userName:"admin-99",password:"123456"},loginFormRules:{userName:[{required:!0,message:"username is required"}],password:[{required:!0,message:"password is required"}]}}},methods:{login:function(){var e=this;this.$refs.loginForm.validate(function(){var r=Object(o.a)(regeneratorRuntime.mark((function r(t){var o,n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=18;break}return o=e.$loading(),r.prev=2,r.next=5,e.$auth.loginWith("local",{data:e.loginForm});case 5:n=r.sent,l=n.data.user,e.$auth.$storage.setUniversal("user",l,!0),e.$message.success("Login Success"),e.$router.push("/"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),e.$message.error("Login Failed");case 15:return r.prev=15,o.close(),r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[2,12,15,18]])})));return function(e){return r.apply(this,arguments)}}())}}}),l=n,c=t(40),component=Object(c.a)(l,(function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("el-form",{ref:"loginForm",staticClass:"form",attrs:{rules:e.loginFormRules,model:e.loginForm}},[o("figure",[o("img",{attrs:{src:t(274),alt:"logo"}}),e._v(" "),o("figcaption",{staticClass:"form__title"},[e._v("\n      Please enter user name and password to login\n    ")])]),e._v(" "),o("el-form-item",{attrs:{prop:"userName",label:" "}},[o("el-input",{attrs:{placeholder:"USER NAME",type:"text"},model:{value:e.loginForm.userName,callback:function(r){e.$set(e.loginForm,"userName",r)},expression:"loginForm.userName"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"password",label:" "}},[o("el-input",{attrs:{placeholder:"PASSWORD",type:"password","show-password":""},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),e._v(" "),o("nuxt-link",{attrs:{to:"/auth/forget_password"}},[e._v(" forget password? ")]),e._v(" "),o("button",{staticClass:"btn btn--pink",attrs:{type:"submit"},on:{click:function(r){return r.preventDefault(),e.login.apply(null,arguments)}}},[e._v("\n    LOGIN\n  ")])],1)}),[],!1,null,null,null);r.default=component.exports}}]);