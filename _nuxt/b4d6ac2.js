(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{462:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAArBJREFUWEftmL9rIlEQx2cLFYt4VoIiiAm2EgsbFfXQUkj8C1JZ312ljVGxsLxcbaN/gbnSQlxNtPTWysJATmwUBBNBJDbezII5I8q9fXFzJrgg8vS973xm5v3aEWDtmc/np4IgnC0WiyD+dYof43qfHbcfUE9CmyLa/KnVaqVVfWG1gXBfsH21YwAlcgSbRsgfy0HPgE9PTyX04lyJmlp9MZLXOp0uSvoyIEbuK359V8sgp+43jOSVQHMOBX5xiqg5jNL9WcDUpjG1KTUt8WpjqjMUQREFArwiKo+rEeD4DbYSXj8eCHDBO/otxn1swFarBSaTCaxW68Zg9vt9GI1G4HK5uIP9qgjmcjlwu90QDoc3ApTLZZAkCeLx+NsC1mo16PV6cHNzAxaLBU5OTjYC3N3dwWAwAJ/PBzabDQIB5ZuFogg2m01IJpPg9/tlg7e3tzLg8fHxVsDhcAher1d2qF6vQzabBY/HwxxRRYChUAgqlcqzOE+K1zX+RcoMSGkVRRFSqb+HDi2Co6MjMBo338jG4zFMp9MXiyiTyUAwGGRONzNgPp+H2WwG0ah8yeB+SqUS6PV6iMViTBrMgOl0GtrtNhgMBibhbZ0mk4m87VxeXjLpMAMWi0VZ8OLigkl4WyelOgfA9UgeIniYg2tz4uMsEtq38N0F6CR4zaPaIikUClCtVmFpgBdStaOOgCKRCNCRZzabeflAtcsCEXU6HUgkEuB0OsHhcCiCvL+/V/+6tSRqNBrQ7XYVAdrtduYbzKow8ypWRLPDzu8CkGogn3bo9C6lHve/9PEeikdUfhP3MM2PGo3mdP8LmMsZjam+puL5Lmc4rxYV07EELJej14voVApO/8d0P5J9Kv0unXsBSD9SSRg9OMdoBrFJ81PtLYigJLQpIlgB7f5ejfwfxXKGmFk7VboAAAAASUVORK5CYII="},463:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAnBJREFUWEftmEFvAUEUx2cPOPIN+Ab24kwTrmji7OKubZylGldSdeXQOEuqZw56dig+QeMLdPfIRd9/k5GxpXZnZltNTCIyeP/3m/fevl3PYK612WxMwzAK2+02Q1+Z9Iq5f6N5b5HenHxOyedrOByei/qGuCG4G9p3NAP4kQNsgyCfuNEOcL1ev9Apin7UgvotRXIUiUSuoe8AUuRu6e0xKIeSuncUyY6BmiOBd0mRIM2Q7iuDUtug1N4H6UlWm1L9gAhOSSAtKxKw3RsAP3+hlciewwLgVtb6N+wugKpR9hRBy7LYcrlU9fXNPhqNsmQy+aOuJ8DFYsFSqRSLx+POS8eCZjqdZsPhUB0QCoPBgHW7XTaZTFgspvb84EfLUwT5Ef0IHwsLNJrNJpvNZp4O6gsQTiuVilOP4/HYkwMRFHC1Ws3Jwqna43a+AWUhZeDgSwqQQ65WKyeSpxYuiGw26ytyShHkxkg3PWiwfr9/lBFwpVLJuVq9plUUk44gF0FkEonEQUjA5XI51uv1WKFQOBXog98rA6KJA9I0zT1IDtdqtVi5XJaCU6pB0SMg0ciRajRfLEDn83lWrVal4bQBcqB6vb4HKO5lKZVTLNbiBVA2DZcUq0TuUA3yFoO7jExz1tqo3YCAw9MKWo5scw4M0LZtRv9lndsa7i46lrY2g/stnrbb7bYOrp2GNkCtVIIYADEDiQblQFHXPv/Rx38YHmH8Nj3DNNuhUMg8/wEmL2JK9QjDc8Wi1mKOYTqNgJ1xtHuIjlFw4w/TbcM/Rr/8pHuA+BAjYTpBkaKZoS3qM+gWBKg5+ZwS2DP5/RDT8AUORnqYcPRVKAAAAABJRU5ErkJggg=="},502:function(t,e,r){var content=r(515);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(82).default)("29f45086",content,!0,{sourceMap:!1})},514:function(t,e,r){"use strict";r(502)},515:function(t,e,r){var n=r(81)(!1);n.push([t.i,".filterBtn[data-v-36abc8f6]{border:none;background:none;transition:.6s}.filterBtn[data-v-36abc8f6]:hover{transform:scale(1.1)}.el-pagination[data-v-36abc8f6]{float:right}",""]),t.exports=n},560:function(t,e,r){"use strict";r.r(e);var n=r(1),o=(r(15),{data:function(){return{page:1,totalPages:1,reservations:[],showCalender:!1,showFilter:!1,dateInput:null,form:{status:null,startDate:null,endDate:null},formRules:{status:[{required:!0,message:"Please select a status"}],startDate:[{required:!0,message:"Please pick a start date"}],endDate:[{required:!0,message:"Please pick an end date"}]},statusOptions:[{value:"ACCEPTED",label:"Accepted"},{value:"PROCCESSING",label:"Processing"},{value:"DONE",label:"Done"},{value:"CANCELLED",label:"Cancelled"},{value:"REJECTED",label:"Rejected"}],filterType:""}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchReservations();case 2:case"end":return e.stop()}}),e)})))()},methods:{goTo:function(){this.$router.push("/reservations/add")},fetchReservations:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={page:t.page,limit:5},e.next=3,t.$axios.$get("/reservations",{params:r});case 3:return n=e.sent,e.next=6,n.docs;case 6:return t.reservations=e.sent,e.next=9,n.totalPages;case 9:return t.totalPages=e.sent,e.next=12,n.page;case 12:t.page=e.sent;case 13:case"end":return e.stop()}}),e)})))()},toggleCalender:function(){this.showCalender=!this.showCalender},toggleFilter:function(){this.showFilter=!this.showFilter},dateFilter:function(){this.toggleCalender()},filterByStatus:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={page:t.page,limit:5,status:t.form.status,startDate:t.form.startDate.toISOString(),endDate:t.form.endDate.toISOString()},e.next=3,t.$axios.$get("/reservations",{params:r});case 3:return n=e.sent,e.next=6,n.docs;case 6:return t.reservations=e.sent,e.next=9,n.totalPages;case 9:return t.totalPages=e.sent,e.next=12,n.page;case 12:t.page=e.sent;case 13:case"end":return e.stop()}}),e)})))()},statusFilter:function(){var t=this;this.$refs.form.validate(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=15;break}return n=t.$loading(),e.prev=2,e.next=5,t.filterByStatus();case 5:t.toggleFilter(),t.filterType="status",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.$message.error("Something went wrong");case 12:return e.prev=12,n.close(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())},chooseFilter:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("status"!=t.filterType){e.next=5;break}return e.next=3,t.filterByStatus();case 3:e.next=7;break;case 5:return e.next=7,t.fetchReservations();case 7:case"end":return e.stop()}}),e)})))()}},computed:{today:function(){return this.$moment().format("MMM DD. YYYY")}}}),l=o,c=(r(514),r(44)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("span",{staticClass:"fs-4 mx-5"},[t._v(t._s(t.today))]),t._v(" "),n("button",{staticClass:"filterBtn",on:{click:t.toggleCalender}},[n("img",{attrs:{src:r(462),alt:"filter"}})]),t._v(" "),n("button",{staticClass:"filterBtn",on:{click:t.toggleFilter}},[n("img",{attrs:{src:r(463),alt:"filter"}})]),t._v(" "),t.showCalender?n("uiPopupForm",{attrs:{modalTrigger:t.showCalender},on:{"update:modalTrigger":t.toggleCalender}},[n("el-calendar",{staticClass:"calender",model:{value:t.dateInput,callback:function(e){t.dateInput=e},expression:"dateInput"}}),t._v(" "),n("button",{staticClass:"popupBtn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.dateFilter.apply(null,arguments)}}},[t._v("\n      Filter\n    ")])],1):t._e(),t._v(" "),t.showFilter?n("uiPopupForm",{attrs:{modalTrigger:t.showFilter},on:{"update:modalTrigger":t.toggleFilter}},[n("el-form",{ref:"form",staticClass:"p-3",staticStyle:{width:"500px"},attrs:{rules:t.formRules,model:t.form}},[n("el-form-item",{attrs:{label:"Status",prop:"status"}},[n("el-select",{staticClass:"w-100",attrs:{placeholder:"Select Status"},on:{change:t.statusFilter},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.statusOptions,(function(t){return n("el-option",{key:t.value,staticClass:"text-center",attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"From",prop:"startDate"}},[n("el-date-picker",{staticClass:"w-100",attrs:{type:"date",placeholder:"Pick a day"},model:{value:t.form.startDate,callback:function(e){t.$set(t.form,"startDate",e)},expression:"form.startDate"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"To",prop:"endDate"}},[n("el-date-picker",{staticClass:"w-100",attrs:{type:"date",placeholder:"Pick a day"},model:{value:t.form.endDate,callback:function(e){t.$set(t.form,"endDate",e)},expression:"form.endDate"}})],1)],1),t._v(" "),n("button",{staticClass:"popupBtn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.statusFilter.apply(null,arguments)}}},[t._v("\n      Filter\n    ")])],1):t._e(),t._v(" "),n("uiAddButton",{attrs:{text:"Reservation"},on:{click:function(e){return t.goTo()}}}),t._v(" "),t.reservations.length?t._e():n("uiEmpty",{attrs:{imgSrc:"reservations/no-reservations.png",caption:"No reservations have been added yet."}}),t._v(" "),n("reservationsList",{staticClass:"my-2",attrs:{tableData:t.reservations}}),t._v(" "),t.totalPages>1?n("el-pagination",{staticClass:"m-5",attrs:{background:"",layout:"prev, pager, next","current-page":t.page,total:10*t.totalPages},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"current-change":t.chooseFilter}}):t._e()],1)}),[],!1,null,"36abc8f6",null);e.default=component.exports}}]);