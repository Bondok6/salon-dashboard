(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{444:function(e,t,r){e.exports=r.p+"img/step1.0eee23f.png"},513:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text-center my-5"},[t("img",{attrs:{src:r(444),alt:"step1"}})])}],o=r(2),c=(r(62),r(19),r(10),r(24),r(23),{mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.next=3,e.$store.dispatch("services/fetchService",r);case 3:data=t.sent,e.form={nameEn:data.nameEn,nameAr:data.nameAr,nameHeb:data.nameHeb,descriptionEn:data.descriptionEn,descriptionAr:data.descriptionAr,descriptionHeb:data.descriptionHeb,numofsets:data.numofsets,color:data.color,images:data.images},e.form.numofsets>1&&(e.enabled="true");case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{form:{},formRules:{nameEn:[{required:!0,message:"Please enter name in English"}],nameAr:[{required:!0,message:"Please enter name in Arabic"}],nameHeb:[{required:!0,message:"Please enter name in Hebrew"}],descriptionEn:[{required:!0,message:"Please enter description in English"}],descriptionAr:[{required:!0,message:"Please enter description in Arabic"}],descriptionHeb:[{required:!0,message:"Please enter description in Hebrew"}],numofsets:[{required:!0,message:"Please enter number of sessions"}],color:[{required:!0,message:"Please pick a color"}]},showUpload:!0,enabled:null}},methods:{toggleUpload:function(){this.showUpload=!this.showUpload},handleChange:function(e,t){this.form.images=t.map((function(e){return e.raw}))},handleRemove:function(e){this.form.images=this.form.images.filter((function(t){return t.uid!==e.uid}))},convertImagesToString:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.every((function(image){return"string"==typeof image}))){r.next=2;break}return r.abrupt("return");case 2:return n=new FormData,e.forEach((function(image){n.append("photos",image)})),r.next=6,t.$axios.$post("/photos",n);case 6:return o=r.sent,r.abrupt("return",o.map((function(image){return image.url})));case 8:case"end":return r.stop()}}),r)})))()},goNext:function(){var e=this;this.$refs.form.validate(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=12;break}if(0!==e.form.images.length){t.next=4;break}return e.$message.error("Please upload image"),t.abrupt("return");case 4:if("false"===e.enabled&&(e.form.numofsets=1),!e.form.images.every((function(image){return"string"!=typeof image}))){t.next=9;break}return t.next=8,e.convertImagesToString(e.form.images);case 8:e.form.images=t.sent;case 9:sessionStorage.setItem("form1",JSON.stringify(e.form)),n=e.$route.params.id,e.$router.push("/services-offers/edit/step2/".concat(n));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},goBack:function(){sessionStorage.removeItem("form1"),sessionStorage.removeItem("form2"),this.$router.push("/services-offers")}}}),l=c,m=r(43),component=Object(m.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-form mb-5"},[r("h2",{staticClass:"main-form__title"},[e._v("Update Service")]),e._v(" "),e._m(0),e._v(" "),r("el-form",{ref:"form",staticClass:"mt-5",attrs:{rules:e.formRules,model:e.form}},[r("div",{staticClass:"d-flex align-items-center gap-4 mb-5"},[r("el-upload",{staticClass:"upload-demo",class:{hideUpload:!e.showUpload},attrs:{"list-type":"picture-card",action:"#","on-change":e.handleChange,"on-remove":e.handleRemove,"show-file-list":!0,"auto-upload":!1,limit:4,accept:"image/*"}},[r("i",{staticClass:"el-icon-upload"})]),e._v(" "),r("div",{staticClass:"img-caption"},[r("h5",[e._v("Service Images")]),e._v(" "),r("h6",[e._v("Please Upload Image 160*160")])])],1),e._v(" "),r("div",{staticClass:"d-flex flex-wrap gap-5"},[r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"Name Of Service En",prop:"nameEn"}},[r("el-input",{model:{value:e.form.nameEn,callback:function(t){e.$set(e.form,"nameEn",t)},expression:"form.nameEn"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"Name Of Service Ar",prop:"nameAr"}},[r("el-input",{model:{value:e.form.nameAr,callback:function(t){e.$set(e.form,"nameAr",t)},expression:"form.nameAr"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"Name Of Service Heb",prop:"nameHeb"}},[r("el-input",{model:{value:e.form.nameHeb,callback:function(t){e.$set(e.form,"nameHeb",t)},expression:"form.nameHeb"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Description Of Service En",prop:"descriptionEn"}},[r("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.form.descriptionEn,callback:function(t){e.$set(e.form,"descriptionEn",t)},expression:"form.descriptionEn"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Description Of Service Ar",prop:"descriptionAr"}},[r("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.form.descriptionAr,callback:function(t){e.$set(e.form,"descriptionAr",t)},expression:"form.descriptionAr"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Description Of Service Heb",prop:"descriptionHeb"}},[r("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.form.descriptionHeb,callback:function(t){e.$set(e.form,"descriptionHeb",t)},expression:"form.descriptionHeb"}})],1),e._v(" "),r("div",{staticClass:"d-flex gap-5"},[r("el-form-item",{attrs:{label:"Consist Of Sessions",prop:"enabled"}},[r("el-switch",{attrs:{"active-value":"true","inactive-value":"false","active-color":"#EA3162"},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}})],1),e._v(" "),"true"===e.enabled?r("el-form-item",{attrs:{prop:"numofsets"}},[r("span",{staticClass:"d-block"},[e._v("Number Of Sessions")]),e._v(" "),r("el-input",{attrs:{type:"number"},model:{value:e.form.numofsets,callback:function(t){e.$set(e.form,"numofsets",t)},expression:"form.numofsets"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"Pick Color",prop:"color"}},[r("el-color-picker",{model:{value:e.form.color,callback:function(t){e.$set(e.form,"color",t)},expression:"form.color"}})],1)],1)],1),e._v(" "),r("button",{staticClass:"btn btn--pink btn--add",on:{click:function(t){return t.preventDefault(),e.goNext()}}},[e._v("\n    Next\n  ")]),e._v(" "),r("button",{staticClass:"btn btn--white btn--add",on:{click:function(t){return t.preventDefault(),e.goBack()}}},[e._v("\n    Cancel\n  ")])],1)}),n,!1,null,null,null);t.default=component.exports}}]);